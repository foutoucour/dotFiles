#!/usr/bin/python

import sys
from PyQt4 import QtGui
from PyQt4 import QtCore
import lm__TabMerger

class WidgetCollectorGui(lm__TabMerger.Merger, QtGui.QWidget):
    def __init__(self, parent=None):
        QtGui.QWidget.__init__(self, parent)
        self.oMainLayout = QtGui.QVBoxLayout()
        self.__label()
        self.__radioButtonLayout()
        self.__slider()
        self.__comboBox()    
        self.oMainLayout.addStretch(1)
        if not __name__=='__main__':
            self.setParent(self.oMainLayout)
            self.sTabName = 'WidgetCollectorGui'
        else :
            self.setLayout(self.oMainLayout)
    
    def __label(self):
        self.oLabel = QtGui.QLabel('QLabel')
        self.__oLabelLayout = QtGui.QVBoxLayout()
        self.__oLabelLayout.addWidget(self.oLabel)
        self.__oLabelLayout.addStretch(1)
        self.oMainLayout.addLayout(self.__oLabelLayout)
    
    def __radioButtonSet1(self):
        self.__oRadioGrpBox1 = QtGui.QGroupBox('Radio Buttons 1')
        self.__oRadioGrpBox1.setCheckable(1)
        
        self.__oRadioGrpBox1Layout = QtGui.QVBoxLayout(
                                            self.__oRadioGrpBox1)
        
        self.oRadio1 = QtGui.QRadioButton('I')
        self.oRadio1.setParent(self.__oRadioGrpBox1)
        self.__oRadioGrpBox1Layout.addWidget(self.oRadio1)
        
        self.oRadio2 = QtGui.QRadioButton('II')
        self.oRadio2.setParent(self.__oRadioGrpBox1)
        self.__oRadioGrpBox1Layout.addWidget(self.oRadio2)
        self.oRadio2.setChecked(1)
        
        self.__oButtonGroup1 = QtGui.QButtonGroup()
        self.__oButtonGroup1.addButton(self.oRadio1)
        self.__oButtonGroup1.addButton(self.oRadio2)

    def __radioButtonSet2(self):
        self.__oRadioGrpBox2 = QtGui.QGroupBox('Radio Buttons 2')
        self.__oRadioGrpBox2.setCheckable(1)
        
        self.__oRadioGrpBox2Layout = QtGui.QVBoxLayout(self.__oRadioGrpBox2)
        
        self.oRadio3 = QtGui.QRadioButton('A')
        self.oRadio3.setChecked(1)
        self.oRadio3.setParent(self.__oRadioGrpBox2)
        self.__oRadioGrpBox2Layout.addWidget(self.oRadio3)
        
        
        self.oRadio4 = QtGui.QRadioButton('B')
        self.oRadio4.setParent(self.__oRadioGrpBox2)
        self.__oRadioGrpBox2Layout.addWidget(self.oRadio4)
        
        self.__oButtonGroup2 = QtGui.QButtonGroup()
        self.__oButtonGroup2.addButton(self.oRadio3)
        self.__oButtonGroup2.addButton(self.oRadio4)

    def __radioButtonLayout(self):
        self.__radioButtonSet1()
        self.__radioButtonSet2()
        self.__oRadioLayout = QtGui.QHBoxLayout()
        self.__oRadioLayout.addWidget(self.__oRadioGrpBox1)
        self.__oRadioLayout.addWidget(self.__oRadioGrpBox2)
        self.oMainLayout.addLayout(self.__oRadioLayout)
        
    def __slider(self):
        self.__oSliderGrpBox = QtGui.QGroupBox('slider')
        self.__oSliderGrpBox.setCheckable(1)
        
        self.__oSliderLayout = QtGui.QVBoxLayout(self.__oSliderGrpBox)
        
        self.oSliderH = QtGui.QSlider(QtCore.Qt.Horizontal)
        self.oSliderH.setRange(0,100)
        self.oSliderH.setValue(5)
        self.oSliderH.setSingleStep(1)
        self.oSliderH.setPageStep(10)
        self.oSliderH.setParent(self.__oSliderGrpBox)
        self.__oSliderLayout.addWidget(self.oSliderH)
        
        self.oSpinBox1 = QtGui.QSpinBox()
        self.oSpinBox1.setMaximum(100)
        self.oSpinBox1.setMinimum(0)
        self.oSpinBox1.setParent(self.__oSliderGrpBox)
        self.__oSliderLayout.addWidget(self.oSpinBox1)
        
        self.oSpinBox2 = QtGui.QDoubleSpinBox()
        self.oSpinBox2.setMaximum(1)
        self.oSpinBox2.setMinimum(0)
        self.oSpinBox2.setParent(self.__oSliderGrpBox)
        self.__oSliderLayout.addWidget(self.oSpinBox2)
                
        self.connect(self.oSpinBox1,
                     QtCore.SIGNAL('valueChanged(int)'),
                     self.__oSpinBox1Value)
        self.connect(self.oSpinBox2,
                     QtCore.SIGNAL('valueChanged(int)'),
                     self.__oSpinBox2Value)
        self.connect(self.oSliderH,
                     QtCore.SIGNAL('valueChanged(int)'),
                     self.__oSliderHValue)
        
        self.oMainLayout.addWidget(self.__oSliderGrpBox)
    
    def __oSpinBox1Value(self):
#        value = self.__oGuiObserver.oSpinBoxValue(
#                                self.__oSpinBox.Value())
        value = float(self.oSpinBox1.value())
        self.oSliderH.setValue(value)
        value = value/100
        self.oSpinBox2.setValue(value)
    
    def __oSpinBox2Value(self):
        value = float(self.oSpinBox2.value())
        value = value*100
        self.oSliderH.setValue(value)
        self.oSpinBox1.setValue(value)
            
    def __oSliderHValue(self):
#        value = self.__oGuiObserver.oSliderHValue(
#                                self.__oSliderH.Value())
        value = float(self.oSliderH.value())
        self.oSpinBox1.setValue(value)
        value = value/100
        self.oSpinBox2.setValue(value)
    
    def __comboBox(self):
        self.__oComboBoxgrpBox = QtGui.QGroupBox('combo box')
        self.__oComboBoxgrpBox.setCheckable(1)
        
        self.__oComboBoxLayout = QtGui.QVBoxLayout(self.__oComboBoxgrpBox)
        __listItems = ['Animal Logic',
                       'AnimationLab', 
                       'Pixar', 
                       'DreamWorks', 
                       'BlueSky Studio']
        self.__oComboBox = QtGui.QComboBox()
        self.__oComboBox.addItems(__listItems)
        self.__oComboBox.setCurrentIndex(1)
        self.__oComboBoxLayout.addWidget(self.__oComboBox)
        
        self.oMainLayout.addWidget(self.__oComboBoxgrpBox)
    
if __name__ == '__main__':    
    app = QtGui.QApplication(sys.argv)
    app.setStyle(QtGui.QStyleFactory.create('cleanlooks'))
    #app.setStyle(QtGui.QStyleFactory.create('Macintosh'))
    qb = WidgetCollectorGui()
    qb.setWindowTitle('WidgetCollector')
    qb.show()
    sys.exit(app.exec_())